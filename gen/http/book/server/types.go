// Code generated by goa v3.5.2, DO NOT EDIT.
//
// book HTTP server types
//
// Command:
// $ goa gen api_crud/design

package server

import (
	book "api_crud/gen/book"
	"unicode/utf8"

	goa "goa.design/goa/v3/pkg"
)

// UpdateBookRequestBody is the type of the "book" service "updateBook"
// endpoint HTTP request body.
type UpdateBookRequestBody struct {
	Name  *string  `form:"name,omitempty" json:"name,omitempty" xml:"name,omitempty"`
	Price *float64 `form:"price,omitempty" json:"price,omitempty" xml:"price,omitempty"`
}

// CreateBookRequestBody is the type of the "book" service "createBook"
// endpoint HTTP request body.
type CreateBookRequestBody struct {
	// Name of the book
	Name *string `form:"name,omitempty" json:"name,omitempty" xml:"name,omitempty"`
	// Price of the book
	Price *float64 `form:"price,omitempty" json:"price,omitempty" xml:"price,omitempty"`
}

// GetBookResponseBody is the type of the "book" service "getBook" endpoint
// HTTP response body.
type GetBookResponseBody struct {
	ID      string  `form:"id" json:"id" xml:"id"`
	Name    string  `form:"name" json:"name" xml:"name"`
	Price   float64 `form:"price" json:"price" xml:"price"`
	Success bool    `form:"success" json:"success" xml:"success"`
}

// UpdateBookResponseBody is the type of the "book" service "updateBook"
// endpoint HTTP response body.
type UpdateBookResponseBody struct {
	ID      string  `form:"id" json:"id" xml:"id"`
	Name    string  `form:"name" json:"name" xml:"name"`
	Price   float64 `form:"price" json:"price" xml:"price"`
	Success bool    `form:"success" json:"success" xml:"success"`
}

// GetAllBooksResponseBody is the type of the "book" service "getAllBooks"
// endpoint HTTP response body.
type GetAllBooksResponseBody struct {
	// Result is an array of object
	Books   []*BookResponseResponseBody `form:"books" json:"books" xml:"books"`
	Success bool                        `form:"success" json:"success" xml:"success"`
}

// DeleteBookResponseBody is the type of the "book" service "deleteBook"
// endpoint HTTP response body.
type DeleteBookResponseBody struct {
	Success bool `form:"success" json:"success" xml:"success"`
}

// CreateBookResponseBody is the type of the "book" service "createBook"
// endpoint HTTP response body.
type CreateBookResponseBody struct {
	// Result is an object
	Book    *BookResponseResponseBody `form:"book" json:"book" xml:"book"`
	Success bool                      `form:"success" json:"success" xml:"success"`
}

// GetBookUnknownErrorResponseBody is the type of the "book" service "getBook"
// endpoint HTTP response body for the "unknown_error" error.
type GetBookUnknownErrorResponseBody struct {
	Err       string `form:"err" json:"err" xml:"err"`
	ErrorCode string `form:"error_code" json:"error_code" xml:"error_code"`
	Success   bool   `form:"success" json:"success" xml:"success"`
}

// GetBookUnauthorizedResponseBody is the type of the "book" service "getBook"
// endpoint HTTP response body for the "unauthorized" error.
type GetBookUnauthorizedResponseBody string

// UpdateBookUnknownErrorResponseBody is the type of the "book" service
// "updateBook" endpoint HTTP response body for the "unknown_error" error.
type UpdateBookUnknownErrorResponseBody struct {
	Err       string `form:"err" json:"err" xml:"err"`
	ErrorCode string `form:"error_code" json:"error_code" xml:"error_code"`
	Success   bool   `form:"success" json:"success" xml:"success"`
}

// UpdateBookUnauthorizedResponseBody is the type of the "book" service
// "updateBook" endpoint HTTP response body for the "unauthorized" error.
type UpdateBookUnauthorizedResponseBody string

// GetAllBooksUnknownErrorResponseBody is the type of the "book" service
// "getAllBooks" endpoint HTTP response body for the "unknown_error" error.
type GetAllBooksUnknownErrorResponseBody struct {
	Err       string `form:"err" json:"err" xml:"err"`
	ErrorCode string `form:"error_code" json:"error_code" xml:"error_code"`
	Success   bool   `form:"success" json:"success" xml:"success"`
}

// GetAllBooksUnauthorizedResponseBody is the type of the "book" service
// "getAllBooks" endpoint HTTP response body for the "unauthorized" error.
type GetAllBooksUnauthorizedResponseBody string

// DeleteBookUnknownErrorResponseBody is the type of the "book" service
// "deleteBook" endpoint HTTP response body for the "unknown_error" error.
type DeleteBookUnknownErrorResponseBody struct {
	Err       string `form:"err" json:"err" xml:"err"`
	ErrorCode string `form:"error_code" json:"error_code" xml:"error_code"`
	Success   bool   `form:"success" json:"success" xml:"success"`
}

// DeleteBookUnauthorizedResponseBody is the type of the "book" service
// "deleteBook" endpoint HTTP response body for the "unauthorized" error.
type DeleteBookUnauthorizedResponseBody string

// CreateBookUnknownErrorResponseBody is the type of the "book" service
// "createBook" endpoint HTTP response body for the "unknown_error" error.
type CreateBookUnknownErrorResponseBody struct {
	Err       string `form:"err" json:"err" xml:"err"`
	ErrorCode string `form:"error_code" json:"error_code" xml:"error_code"`
	Success   bool   `form:"success" json:"success" xml:"success"`
}

// CreateBookUnauthorizedResponseBody is the type of the "book" service
// "createBook" endpoint HTTP response body for the "unauthorized" error.
type CreateBookUnauthorizedResponseBody string

// BookResponseResponseBody is used to define fields on response body types.
type BookResponseResponseBody struct {
	ID    string  `form:"id" json:"id" xml:"id"`
	Name  string  `form:"name" json:"name" xml:"name"`
	Price float64 `form:"price" json:"price" xml:"price"`
}

// NewGetBookResponseBody builds the HTTP response body from the result of the
// "getBook" endpoint of the "book" service.
func NewGetBookResponseBody(res *book.GetBookResult) *GetBookResponseBody {
	body := &GetBookResponseBody{
		ID:      res.ID,
		Name:    res.Name,
		Price:   res.Price,
		Success: res.Success,
	}
	return body
}

// NewUpdateBookResponseBody builds the HTTP response body from the result of
// the "updateBook" endpoint of the "book" service.
func NewUpdateBookResponseBody(res *book.UpdateBookResult) *UpdateBookResponseBody {
	body := &UpdateBookResponseBody{
		ID:      res.ID,
		Name:    res.Name,
		Price:   res.Price,
		Success: res.Success,
	}
	return body
}

// NewGetAllBooksResponseBody builds the HTTP response body from the result of
// the "getAllBooks" endpoint of the "book" service.
func NewGetAllBooksResponseBody(res *book.GetAllBooksResult) *GetAllBooksResponseBody {
	body := &GetAllBooksResponseBody{
		Success: res.Success,
	}
	if res.Books != nil {
		body.Books = make([]*BookResponseResponseBody, len(res.Books))
		for i, val := range res.Books {
			body.Books[i] = marshalBookBookResponseToBookResponseResponseBody(val)
		}
	}
	return body
}

// NewDeleteBookResponseBody builds the HTTP response body from the result of
// the "deleteBook" endpoint of the "book" service.
func NewDeleteBookResponseBody(res *book.DeleteBookResult) *DeleteBookResponseBody {
	body := &DeleteBookResponseBody{
		Success: res.Success,
	}
	return body
}

// NewCreateBookResponseBody builds the HTTP response body from the result of
// the "createBook" endpoint of the "book" service.
func NewCreateBookResponseBody(res *book.CreateBookResult) *CreateBookResponseBody {
	body := &CreateBookResponseBody{
		Success: res.Success,
	}
	if res.Book != nil {
		body.Book = marshalBookBookResponseToBookResponseResponseBody(res.Book)
	}
	return body
}

// NewGetBookUnknownErrorResponseBody builds the HTTP response body from the
// result of the "getBook" endpoint of the "book" service.
func NewGetBookUnknownErrorResponseBody(res *book.UnknownError) *GetBookUnknownErrorResponseBody {
	body := &GetBookUnknownErrorResponseBody{
		Err:       res.Err,
		ErrorCode: res.ErrorCode,
		Success:   res.Success,
	}
	return body
}

// NewGetBookUnauthorizedResponseBody builds the HTTP response body from the
// result of the "getBook" endpoint of the "book" service.
func NewGetBookUnauthorizedResponseBody(res book.Unauthorized) GetBookUnauthorizedResponseBody {
	body := GetBookUnauthorizedResponseBody(res)
	return body
}

// NewUpdateBookUnknownErrorResponseBody builds the HTTP response body from the
// result of the "updateBook" endpoint of the "book" service.
func NewUpdateBookUnknownErrorResponseBody(res *book.UnknownError) *UpdateBookUnknownErrorResponseBody {
	body := &UpdateBookUnknownErrorResponseBody{
		Err:       res.Err,
		ErrorCode: res.ErrorCode,
		Success:   res.Success,
	}
	return body
}

// NewUpdateBookUnauthorizedResponseBody builds the HTTP response body from the
// result of the "updateBook" endpoint of the "book" service.
func NewUpdateBookUnauthorizedResponseBody(res book.Unauthorized) UpdateBookUnauthorizedResponseBody {
	body := UpdateBookUnauthorizedResponseBody(res)
	return body
}

// NewGetAllBooksUnknownErrorResponseBody builds the HTTP response body from
// the result of the "getAllBooks" endpoint of the "book" service.
func NewGetAllBooksUnknownErrorResponseBody(res *book.UnknownError) *GetAllBooksUnknownErrorResponseBody {
	body := &GetAllBooksUnknownErrorResponseBody{
		Err:       res.Err,
		ErrorCode: res.ErrorCode,
		Success:   res.Success,
	}
	return body
}

// NewGetAllBooksUnauthorizedResponseBody builds the HTTP response body from
// the result of the "getAllBooks" endpoint of the "book" service.
func NewGetAllBooksUnauthorizedResponseBody(res book.Unauthorized) GetAllBooksUnauthorizedResponseBody {
	body := GetAllBooksUnauthorizedResponseBody(res)
	return body
}

// NewDeleteBookUnknownErrorResponseBody builds the HTTP response body from the
// result of the "deleteBook" endpoint of the "book" service.
func NewDeleteBookUnknownErrorResponseBody(res *book.UnknownError) *DeleteBookUnknownErrorResponseBody {
	body := &DeleteBookUnknownErrorResponseBody{
		Err:       res.Err,
		ErrorCode: res.ErrorCode,
		Success:   res.Success,
	}
	return body
}

// NewDeleteBookUnauthorizedResponseBody builds the HTTP response body from the
// result of the "deleteBook" endpoint of the "book" service.
func NewDeleteBookUnauthorizedResponseBody(res book.Unauthorized) DeleteBookUnauthorizedResponseBody {
	body := DeleteBookUnauthorizedResponseBody(res)
	return body
}

// NewCreateBookUnknownErrorResponseBody builds the HTTP response body from the
// result of the "createBook" endpoint of the "book" service.
func NewCreateBookUnknownErrorResponseBody(res *book.UnknownError) *CreateBookUnknownErrorResponseBody {
	body := &CreateBookUnknownErrorResponseBody{
		Err:       res.Err,
		ErrorCode: res.ErrorCode,
		Success:   res.Success,
	}
	return body
}

// NewCreateBookUnauthorizedResponseBody builds the HTTP response body from the
// result of the "createBook" endpoint of the "book" service.
func NewCreateBookUnauthorizedResponseBody(res book.Unauthorized) CreateBookUnauthorizedResponseBody {
	body := CreateBookUnauthorizedResponseBody(res)
	return body
}

// NewGetBookPayload builds a book service getBook endpoint payload.
func NewGetBookPayload(id string, oauth string, jwtToken string) *book.GetBookPayload {
	v := &book.GetBookPayload{}
	v.ID = id
	v.Oauth = oauth
	v.JWTToken = jwtToken

	return v
}

// NewUpdateBookPayload builds a book service updateBook endpoint payload.
func NewUpdateBookPayload(body *UpdateBookRequestBody, id string, oauth string, jwtToken string) *book.UpdateBookPayload {
	v := &book.UpdateBookPayload{
		Name:  *body.Name,
		Price: *body.Price,
	}
	v.ID = id
	v.Oauth = oauth
	v.JWTToken = jwtToken

	return v
}

// NewDeleteBookPayload builds a book service deleteBook endpoint payload.
func NewDeleteBookPayload(id string, oauth string, jwtToken string) *book.DeleteBookPayload {
	v := &book.DeleteBookPayload{}
	v.ID = id
	v.Oauth = oauth
	v.JWTToken = jwtToken

	return v
}

// NewCreateBookPayload builds a book service createBook endpoint payload.
func NewCreateBookPayload(body *CreateBookRequestBody, oauth string, jwtToken string) *book.CreateBookPayload {
	v := &book.CreateBookPayload{
		Name:  *body.Name,
		Price: *body.Price,
	}
	v.Oauth = oauth
	v.JWTToken = jwtToken

	return v
}

// ValidateUpdateBookRequestBody runs the validations defined on
// UpdateBookRequestBody
func ValidateUpdateBookRequestBody(body *UpdateBookRequestBody) (err error) {
	if body.Name == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("name", "body"))
	}
	if body.Price == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("price", "body"))
	}
	if body.Name != nil {
		if utf8.RuneCountInString(*body.Name) < 3 {
			err = goa.MergeErrors(err, goa.InvalidLengthError("body.name", *body.Name, utf8.RuneCountInString(*body.Name), 3, true))
		}
	}
	if body.Name != nil {
		if utf8.RuneCountInString(*body.Name) > 10 {
			err = goa.MergeErrors(err, goa.InvalidLengthError("body.name", *body.Name, utf8.RuneCountInString(*body.Name), 10, false))
		}
	}
	if body.Price != nil {
		if *body.Price < 0.1 {
			err = goa.MergeErrors(err, goa.InvalidRangeError("body.price", *body.Price, 0.1, true))
		}
	}
	return
}

// ValidateCreateBookRequestBody runs the validations defined on
// CreateBookRequestBody
func ValidateCreateBookRequestBody(body *CreateBookRequestBody) (err error) {
	if body.Name == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("name", "body"))
	}
	if body.Price == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("price", "body"))
	}
	if body.Name != nil {
		if utf8.RuneCountInString(*body.Name) < 3 {
			err = goa.MergeErrors(err, goa.InvalidLengthError("body.name", *body.Name, utf8.RuneCountInString(*body.Name), 3, true))
		}
	}
	if body.Name != nil {
		if utf8.RuneCountInString(*body.Name) > 10 {
			err = goa.MergeErrors(err, goa.InvalidLengthError("body.name", *body.Name, utf8.RuneCountInString(*body.Name), 10, false))
		}
	}
	if body.Price != nil {
		if *body.Price < 0.1 {
			err = goa.MergeErrors(err, goa.InvalidRangeError("body.price", *body.Price, 0.1, true))
		}
	}
	return
}
