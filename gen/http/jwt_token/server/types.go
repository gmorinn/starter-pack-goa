// Code generated by goa v3.5.2, DO NOT EDIT.
//
// jwtToken HTTP server types
//
// Command:
// $ goa gen api_crud/design

package server

import (
	jwttoken "api_crud/gen/jwt_token"
	"unicode/utf8"

	goa "goa.design/goa/v3/pkg"
)

// SignupRequestBody is the type of the "jwtToken" service "signup" endpoint
// HTTP request body.
type SignupRequestBody struct {
	Firstname *string `form:"firstname,omitempty" json:"firstname,omitempty" xml:"firstname,omitempty"`
	Lastname  *string `form:"lastname,omitempty" json:"lastname,omitempty" xml:"lastname,omitempty"`
	Password  *string `form:"password,omitempty" json:"password,omitempty" xml:"password,omitempty"`
	Email     *string `form:"email,omitempty" json:"email,omitempty" xml:"email,omitempty"`
}

// SigninRequestBody is the type of the "jwtToken" service "signin" endpoint
// HTTP request body.
type SigninRequestBody struct {
	Email    *string `form:"email,omitempty" json:"email,omitempty" xml:"email,omitempty"`
	Password *string `form:"password,omitempty" json:"password,omitempty" xml:"password,omitempty"`
}

// SignupResponseBody is the type of the "jwtToken" service "signup" endpoint
// HTTP response body.
type SignupResponseBody struct {
	AccessToken  string `form:"access_token" json:"access_token" xml:"access_token"`
	RefreshToken string `form:"refresh_token" json:"refresh_token" xml:"refresh_token"`
	Success      bool   `form:"success" json:"success" xml:"success"`
}

// SigninResponseBody is the type of the "jwtToken" service "signin" endpoint
// HTTP response body.
type SigninResponseBody struct {
	AccessToken  string `form:"access_token" json:"access_token" xml:"access_token"`
	RefreshToken string `form:"refresh_token" json:"refresh_token" xml:"refresh_token"`
	Success      bool   `form:"success" json:"success" xml:"success"`
}

// SignupEmailAlreadyExistResponseBody is the type of the "jwtToken" service
// "signup" endpoint HTTP response body for the "email_already_exist" error.
type SignupEmailAlreadyExistResponseBody struct {
	Message string `form:"message" json:"message" xml:"message"`
	Success bool   `form:"success" json:"success" xml:"success"`
}

// SignupUnknownErrorResponseBody is the type of the "jwtToken" service
// "signup" endpoint HTTP response body for the "unknown_error" error.
type SignupUnknownErrorResponseBody struct {
	Err       string `form:"err" json:"err" xml:"err"`
	ErrorCode string `form:"error_code" json:"error_code" xml:"error_code"`
	Success   bool   `form:"success" json:"success" xml:"success"`
}

// SigninEmailAlreadyExistResponseBody is the type of the "jwtToken" service
// "signin" endpoint HTTP response body for the "email_already_exist" error.
type SigninEmailAlreadyExistResponseBody struct {
	Message string `form:"message" json:"message" xml:"message"`
	Success bool   `form:"success" json:"success" xml:"success"`
}

// SigninUnknownErrorResponseBody is the type of the "jwtToken" service
// "signin" endpoint HTTP response body for the "unknown_error" error.
type SigninUnknownErrorResponseBody struct {
	Err       string `form:"err" json:"err" xml:"err"`
	ErrorCode string `form:"error_code" json:"error_code" xml:"error_code"`
	Success   bool   `form:"success" json:"success" xml:"success"`
}

// NewSignupResponseBody builds the HTTP response body from the result of the
// "signup" endpoint of the "jwtToken" service.
func NewSignupResponseBody(res *jwttoken.Sign) *SignupResponseBody {
	body := &SignupResponseBody{
		AccessToken:  res.AccessToken,
		RefreshToken: res.RefreshToken,
		Success:      res.Success,
	}
	return body
}

// NewSigninResponseBody builds the HTTP response body from the result of the
// "signin" endpoint of the "jwtToken" service.
func NewSigninResponseBody(res *jwttoken.Sign) *SigninResponseBody {
	body := &SigninResponseBody{
		AccessToken:  res.AccessToken,
		RefreshToken: res.RefreshToken,
		Success:      res.Success,
	}
	return body
}

// NewSignupEmailAlreadyExistResponseBody builds the HTTP response body from
// the result of the "signup" endpoint of the "jwtToken" service.
func NewSignupEmailAlreadyExistResponseBody(res *jwttoken.EmailAlreadyExist) *SignupEmailAlreadyExistResponseBody {
	body := &SignupEmailAlreadyExistResponseBody{
		Message: res.Message,
		Success: res.Success,
	}
	return body
}

// NewSignupUnknownErrorResponseBody builds the HTTP response body from the
// result of the "signup" endpoint of the "jwtToken" service.
func NewSignupUnknownErrorResponseBody(res *jwttoken.UnknownError) *SignupUnknownErrorResponseBody {
	body := &SignupUnknownErrorResponseBody{
		Err:       res.Err,
		ErrorCode: res.ErrorCode,
		Success:   res.Success,
	}
	return body
}

// NewSigninEmailAlreadyExistResponseBody builds the HTTP response body from
// the result of the "signin" endpoint of the "jwtToken" service.
func NewSigninEmailAlreadyExistResponseBody(res *jwttoken.EmailAlreadyExist) *SigninEmailAlreadyExistResponseBody {
	body := &SigninEmailAlreadyExistResponseBody{
		Message: res.Message,
		Success: res.Success,
	}
	return body
}

// NewSigninUnknownErrorResponseBody builds the HTTP response body from the
// result of the "signin" endpoint of the "jwtToken" service.
func NewSigninUnknownErrorResponseBody(res *jwttoken.UnknownError) *SigninUnknownErrorResponseBody {
	body := &SigninUnknownErrorResponseBody{
		Err:       res.Err,
		ErrorCode: res.ErrorCode,
		Success:   res.Success,
	}
	return body
}

// NewSignupPayload builds a jwtToken service signup endpoint payload.
func NewSignupPayload(body *SignupRequestBody) *jwttoken.SignupPayload {
	v := &jwttoken.SignupPayload{
		Firstname: *body.Firstname,
		Lastname:  *body.Lastname,
		Password:  *body.Password,
		Email:     *body.Email,
	}

	return v
}

// NewSigninPayload builds a jwtToken service signin endpoint payload.
func NewSigninPayload(body *SigninRequestBody) *jwttoken.SigninPayload {
	v := &jwttoken.SigninPayload{
		Email:    *body.Email,
		Password: *body.Password,
	}

	return v
}

// ValidateSignupRequestBody runs the validations defined on SignupRequestBody
func ValidateSignupRequestBody(body *SignupRequestBody) (err error) {
	if body.Firstname == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("firstname", "body"))
	}
	if body.Lastname == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("lastname", "body"))
	}
	if body.Password == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("password", "body"))
	}
	if body.Email == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("email", "body"))
	}
	if body.Firstname != nil {
		if utf8.RuneCountInString(*body.Firstname) < 3 {
			err = goa.MergeErrors(err, goa.InvalidLengthError("body.firstname", *body.Firstname, utf8.RuneCountInString(*body.Firstname), 3, true))
		}
	}
	if body.Firstname != nil {
		if utf8.RuneCountInString(*body.Firstname) > 15 {
			err = goa.MergeErrors(err, goa.InvalidLengthError("body.firstname", *body.Firstname, utf8.RuneCountInString(*body.Firstname), 15, false))
		}
	}
	if body.Lastname != nil {
		if utf8.RuneCountInString(*body.Lastname) < 3 {
			err = goa.MergeErrors(err, goa.InvalidLengthError("body.lastname", *body.Lastname, utf8.RuneCountInString(*body.Lastname), 3, true))
		}
	}
	if body.Password != nil {
		if utf8.RuneCountInString(*body.Password) < 8 {
			err = goa.MergeErrors(err, goa.InvalidLengthError("body.password", *body.Password, utf8.RuneCountInString(*body.Password), 8, true))
		}
	}
	if body.Email != nil {
		err = goa.MergeErrors(err, goa.ValidateFormat("body.email", *body.Email, goa.FormatEmail))
	}
	return
}

// ValidateSigninRequestBody runs the validations defined on SigninRequestBody
func ValidateSigninRequestBody(body *SigninRequestBody) (err error) {
	if body.Password == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("password", "body"))
	}
	if body.Email == nil {
		err = goa.MergeErrors(err, goa.MissingFieldError("email", "body"))
	}
	if body.Email != nil {
		err = goa.MergeErrors(err, goa.ValidateFormat("body.email", *body.Email, goa.FormatEmail))
	}
	if body.Password != nil {
		if utf8.RuneCountInString(*body.Password) < 8 {
			err = goa.MergeErrors(err, goa.InvalidLengthError("body.password", *body.Password, utf8.RuneCountInString(*body.Password), 8, true))
		}
	}
	return
}
