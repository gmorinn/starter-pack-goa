{"openapi":"3.0.3","info":{"title":"Basic CRUD","description":"Exemple for api crud","version":"1.0"},"servers":[{"url":"http://localhost:8088"}],"paths":{"/authorization":{"post":{"tags":["oAuth"],"summary":"oAuth oAuth","description":"oAuth","operationId":"oAuth#oAuth","parameters":[{"name":"client_id","in":"header","description":"The client identifier ID","allowEmptyValue":true,"required":true,"schema":{"type":"string","description":"The client identifier ID","example":"00000"},"example":"00000"},{"name":"client_secret","in":"header","description":"The client identifier secret","allowEmptyValue":true,"required":true,"schema":{"type":"string","description":"The client identifier secret","example":"99999"},"example":"99999"},{"name":"grant_type","in":"header","description":"The type of grant","allowEmptyValue":true,"schema":{"type":"string","description":"The type of grant","default":"client_credentials","example":"Vel tempore sapiente quam harum accusantium doloremque."},"example":"Eaque dolores ducimus quod aut."}],"responses":{"302":{"description":"Found response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OAuthResponse"},"example":{"access_token":"Iusto quis sapiente ratione ratione consequatur minima.","expires_in":6055604794412614829,"success":false,"token_type":"Porro eveniet."}}}},"400":{"description":"Bad Request response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OAuthResponse"},"example":{"access_token":"Placeat voluptas est debitis magnam quis ullam.","expires_in":7289579792839009022,"success":false,"token_type":"Iusto voluptatem est quos voluptas."}}}},"401":{"description":"Unauthorized response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Hic sapiente."}}},"403":{"description":"Forbidden response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Mollitia voluptatibus quas."}}},"500":{"description":"Internal Server Error response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnknownError"},"example":{"err":"Eum ut corrupti.","error_code":"Quaerat reprehenderit facere aliquam.","success":true}}}}}}},"/book/add":{"post":{"tags":["crud"],"summary":"createBook crud","description":"Create one item","operationId":"crud#createBook","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateBookRequestBody"},"example":{"name":"Guillaume","price":0.1436730351084788}}}},"responses":{"201":{"description":"Created response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBookResponseBody"},"example":{"book":{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":0.4805611818105851},"success":true}}}},"500":{"description":"Internal Server Error response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IDDoesntExist"},"example":{"err":"Aut voluptatibus nisi voluptas corporis.","error_code":"Dolor expedita quidem.","success":false}}}}}}},"/book/remove/{id}":{"delete":{"tags":["crud"],"summary":"deleteBook crud","description":"Delete one item by ID","operationId":"crud#deleteBook","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","example":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","format":"uuid"},"example":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25"}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteBookResponseBody"},"example":{"success":true}}}},"500":{"description":"Internal Server Error response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IDDoesntExist"},"example":{"err":"Maxime eveniet.","error_code":"Laboriosam eligendi animi delectus.","success":false}}}}}}},"/book/{id}":{"get":{"tags":["crud"],"summary":"getBook crud","description":"Get one item","operationId":"crud#getBook","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","example":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","format":"uuid"},"example":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25"}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetBookResponseBody"},"example":{"id":"Autem qui iste voluptas at est.","name":"Laboriosam cupiditate nam nam facilis.","price":0.2922005819792663,"success":true}}}},"500":{"description":"Internal Server Error response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IDDoesntExist"},"example":{"err":"Consectetur minus aut autem id voluptatum qui.","error_code":"Culpa ut qui commodi quibusdam et.","success":true}}}}},"security":[{"jwt_header_Authorization":["api:read","api:write"]}]},"put":{"tags":["crud"],"summary":"updateBook crud","description":"Update one item","operationId":"crud#updateBook","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","example":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","format":"uuid"},"example":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateBookRequestBody"},"example":{"name":"Guillaume","price":0.1253396498855919}}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetBookResponseBody"},"example":{"id":"Ut alias delectus et est.","name":"Ipsam et unde repellendus quaerat.","price":0.2921791502674916,"success":false}}}},"500":{"description":"Internal Server Error response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IDDoesntExist"},"example":{"err":"Et dolore assumenda nihil impedit hic aut.","error_code":"Minima nam quis.","success":false}}}}}}},"/books":{"get":{"tags":["crud"],"summary":"getAllBooks crud","description":"Read All items","operationId":"crud#getAllBooks","responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetAllBooksResponseBody"},"example":{"books":[{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":0.4805611818105851},{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":0.4805611818105851}],"success":false}}}},"500":{"description":"Internal Server Error response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IDDoesntExist"},"example":{"err":"Cumque voluptatem adipisci.","error_code":"Tenetur dignissimos.","success":true}}}}}}},"/openapi.json":{"get":{"tags":["openapi"],"summary":"Download openapi3.json","operationId":"openapi#/openapi.json","responses":{"200":{"description":"File downloaded"}}}},"/signin":{"post":{"tags":["jwtToken"],"summary":"signin jwtToken","description":"signin","operationId":"jwtToken#signin","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SigninRequestBody"},"example":{"email":"guillaume@epitech.eu","password":"sa2"}}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Sign"},"example":{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ","refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ","success":false}}}},"400":{"description":"Bad Request response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailAlreadyExist"},"example":{"message":"Id quis consequatur.","success":true}}}},"401":{"description":"Unauthorized response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Et sint sunt et quaerat hic distinctio."}}},"403":{"description":"Forbidden response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Assumenda et saepe nemo rerum vitae explicabo."}}},"500":{"description":"Internal Server Error response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnknownError"},"example":{"err":"Nihil sint consequatur.","error_code":"Laborum qui animi eum ea.","success":true}}}}}}},"/signup":{"post":{"tags":["jwtToken"],"summary":"signup jwtToken","description":"signup","operationId":"jwtToken#signup","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignupRequestBody"},"example":{"email":"guillaume@epitech.eu","firstname":"Guillaume","lastname":"Morin","password":"map"}}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Sign"},"example":{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ","refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ","success":true}}}},"400":{"description":"Bad Request response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailAlreadyExist"},"example":{"message":"Dolor aut odit aliquam aut perspiciatis.","success":true}}}},"401":{"description":"Unauthorized response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Qui laboriosam laborum."}}},"403":{"description":"Forbidden response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Atque id."}}},"500":{"description":"Internal Server Error response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnknownError"},"example":{"err":"Et iusto rerum nisi dolore.","error_code":"Error voluptatem consectetur inventore nostrum repudiandae.","success":true}}}}}}}},"components":{"schemas":{"BookResponse":{"type":"object","properties":{"id":{"type":"string","example":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","format":"uuid"},"name":{"type":"string","example":"Guillaume"},"price":{"type":"number","example":0.6225484328244404,"format":"double"}},"example":{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":0.34290005817723773},"required":["id","name","price"]},"CreateBookResponseBody":{"type":"object","properties":{"book":{"$ref":"#/components/schemas/BookResponse"},"success":{"type":"boolean","example":false}},"example":{"book":{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":0.4805611818105851},"success":false},"required":["book","success"]},"DeleteBookResponseBody":{"type":"object","properties":{"success":{"type":"boolean","example":false}},"example":{"success":false},"required":["success"]},"EmailAlreadyExist":{"type":"object","properties":{"message":{"type":"string","example":"Dolor rem."},"success":{"type":"boolean","default":false,"example":true}},"description":"When email already exist","example":{"message":"Qui natus.","success":true},"required":["message","success"]},"GetAllBooksResponseBody":{"type":"object","properties":{"books":{"type":"array","items":{"$ref":"#/components/schemas/BookResponse"},"example":[{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":0.4805611818105851},{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":0.4805611818105851},{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":0.4805611818105851}]},"success":{"type":"boolean","example":false}},"example":{"books":[{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":0.4805611818105851},{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":0.4805611818105851}],"success":false},"required":["books","success"]},"GetBookResponseBody":{"type":"object","properties":{"id":{"type":"string","example":"Provident ipsam rerum sapiente commodi."},"name":{"type":"string","example":"Repellat assumenda ut iure."},"price":{"type":"number","example":0.5669665070735368,"format":"double"},"success":{"type":"boolean","example":true}},"example":{"id":"Consequatur velit corrupti architecto accusamus.","name":"Dolor atque odit.","price":0.7483507748198839,"success":false},"required":["id","name","price","success"]},"IDDoesntExist":{"type":"object","properties":{"err":{"type":"string","description":"Returning error","example":"Nesciunt consectetur est tempore vel ipsa recusandae."},"id":{"type":"string","example":"Et sit."},"success":{"type":"boolean","default":false,"example":true}},"description":"When ID doesn't exist","example":{"err":"Expedita inventore voluptate beatae dignissimos odio.","id":"Quam reprehenderit aliquam laborum tenetur.","success":true},"required":["err","success","id"]},"InvalidScopes":{"type":"string","description":"Token scopes are invalid","example":"Quidem omnis optio debitis ipsa."},"OAuthResponse":{"type":"object","properties":{"access_token":{"type":"string","example":"Dolorem qui inventore."},"expires_in":{"type":"integer","example":8890407045464540775,"format":"int64"},"success":{"type":"boolean","example":true},"token_type":{"type":"string","example":"Blanditiis deserunt."}},"example":{"access_token":"Qui blanditiis alias natus dolores modi libero.","expires_in":3214730788491510736,"success":false,"token_type":"Ullam quia recusandae illum."}},"Sign":{"type":"object","properties":{"access_token":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"},"refresh_token":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"},"success":{"type":"boolean","example":false}},"example":{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ","refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ","success":false},"required":["access_token","refresh_token","success"]},"SigninRequestBody":{"type":"object","properties":{"email":{"type":"string","example":"guillaume@epitech.eu","format":"email"},"password":{"type":"string","example":"e2i","minLength":8}},"example":{"email":"guillaume@epitech.eu","password":"mne"},"required":["password","email"]},"SignupRequestBody":{"type":"object","properties":{"email":{"type":"string","example":"guillaume@epitech.eu","format":"email"},"firstname":{"type":"string","example":"Guillaume","minLength":3,"maxLength":15},"lastname":{"type":"string","example":"Morin","minLength":3},"password":{"type":"string","example":"8bs","minLength":8}},"description":"Use client ID and client secret to oAuth","example":{"email":"guillaume@epitech.eu","firstname":"Guillaume","lastname":"Morin","password":"9b8"},"required":["firstname","lastname","password","email"]},"UnknownError":{"type":"object","properties":{"err":{"type":"string","example":"Sed illum rerum id quia ut."},"error_code":{"type":"string","example":"Modi voluptas quae laborum qui unde."},"success":{"type":"boolean","default":false,"example":false}},"description":"Error not identified (500)","example":{"err":"Maxime voluptatum beatae cumque nihil reiciendis consequatur.","error_code":"Voluptatem eos sequi vitae.","success":true},"required":["err","success","error_code"]},"UpdateBookRequestBody":{"type":"object","properties":{"name":{"type":"string","example":"Guillaume"},"price":{"type":"number","example":0.07813364102810165,"format":"double"}},"example":{"name":"Guillaume","price":0.6362566480559178},"required":["name","price"]}},"securitySchemes":{"jwt_header_Authorization":{"type":"http","description":"Secures endpoint by requiring a valid JWT token retrieved via the signin endpoint. Supports scopes \"api:read\" and \"api:write\".","scheme":"bearer"}}},"tags":[{"name":"openapi"},{"name":"crud","description":"The principe of CRUD API with GET, PUT, POST, DELETE"},{"name":"jwtToken","description":"Use Token to authenticate. Signin and Signup"},{"name":"oAuth","description":"Oauth to authentificate"}]}