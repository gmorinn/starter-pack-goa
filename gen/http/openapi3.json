{"openapi":"3.0.3","info":{"title":"Starter Pack","description":"Best API REST building with GoaDesign","contact":{"name":"Guillaume MORIN","url":"https://guillaume-morin.fr/","email":"guillaume.morin@epitech.eu"},"license":{"name":"GOA X GM","url":"https://guillaume-morin.fr/"},"version":"1.0"},"servers":[{"url":"http://localhost:8088"}],"paths":{"/authorization":{"post":{"tags":["oAuth"],"summary":"oAuth oAuth","description":"oAuth","operationId":"oAuth#oAuth","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OAuthRequestBody"},"example":{"client_id":"Aliquid non ut corrupti consequatur saepe enim.","client_secret":"Tempora ipsam ratione maxime.","grant_type":"Illum vel nesciunt harum sed labore."}}}},"responses":{"201":{"description":"Created response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OAuthResponse"},"example":{"access_token":"Et accusantium.","expires_in":5010639693042360582,"success":true,"token_type":"Optio expedita quibusdam at iste quia neque."}}}},"400":{"description":"Bad Request response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OAuthResponse"},"example":{"access_token":"Iusto ipsa sint libero.","expires_in":8640656426068752855,"success":false,"token_type":"Voluptates doloremque."}}}},"401":{"description":"Unauthorized response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Cum debitis."}}},"403":{"description":"Forbidden response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Sint maxime voluptatem dolores modi."}}},"500":{"description":"Internal Server Error response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnknownError"},"example":{"err":"sql no rows affected","error_code":"TX_UPDATE_ITEM","success":false}}}}}}},"/openapi.json":{"get":{"tags":["openapi"],"summary":"Download openapi3.json","description":"Postman generated by Goa","operationId":"openapi#/openapi.json","responses":{"200":{"description":"File downloaded"}},"externalDocs":{"description":"cd Public \u0026\u0026 live-server to see the Documentation of the API","url":"http://127.0.0.1:8080/"}}},"/resfresh":{"post":{"tags":["jwtToken"],"summary":"refresh jwtToken","description":"Refresh Token","operationId":"jwtToken#refresh","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshRequestBody"},"example":{"refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"}}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Sign"},"example":{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ","refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ","success":true}}}},"400":{"description":"Bad Request response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailAlreadyExist"},"example":{"message":"Iste excepturi nesciunt.","success":false}}}},"401":{"description":"Unauthorized response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Sit velit qui nihil."}}},"403":{"description":"Forbidden response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Qui consequatur vel repudiandae a."}}},"500":{"description":"Internal Server Error response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnknownError"},"example":{"err":"sql no rows affected","error_code":"TX_UPDATE_ITEM","success":false}}}}}}},"/signin":{"post":{"tags":["jwtToken"],"summary":"signin jwtToken","description":"signin","operationId":"jwtToken#signin","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SigninRequestBody"},"example":{"email":"guillaume@epitech.eu","password":"mic"}}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Sign"},"example":{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ","refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ","success":true}}}},"400":{"description":"Bad Request response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailAlreadyExist"},"example":{"message":"Voluptas facilis aut amet reiciendis quis numquam.","success":true}}}},"401":{"description":"Unauthorized response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Porro autem at."}}},"403":{"description":"Forbidden response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Minus accusantium assumenda."}}},"500":{"description":"Internal Server Error response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnknownError"},"example":{"err":"sql no rows affected","error_code":"TX_UPDATE_ITEM","success":false}}}}}}},"/signup":{"post":{"tags":["jwtToken"],"summary":"signup jwtToken","description":"signup to generate jwt token","operationId":"jwtToken#signup","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignupRequestBody"},"example":{"email":"guillaume@epitech.eu","firstname":"Guillaume","lastname":"Morin","password":"2bu"}}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Sign"},"example":{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ","refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ","success":true}}}},"400":{"description":"Bad Request response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailAlreadyExist"},"example":{"message":"Ducimus sunt minima ut.","success":false}}}},"401":{"description":"Unauthorized response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Beatae deserunt ut tempora recusandae."}}},"403":{"description":"Forbidden response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Id quibusdam quidem eligendi."}}},"500":{"description":"Internal Server Error response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnknownError"},"example":{"err":"sql no rows affected","error_code":"TX_UPDATE_ITEM","success":false}}}}}}},"/web/book/add":{"post":{"tags":["book"],"summary":"createBook book","description":"Create one item","operationId":"book#createBook","parameters":[{"name":"jwtToken","in":"header","description":"Jwt token","allowEmptyValue":true,"required":true,"schema":{"type":"string","description":"Jwt token","example":"Bearer ¨æ¨Û®©∫ÛëÖçÙÄîì´Ω∏","pattern":"^Bearer [^ ]+$"},"example":"Bearer ûøßÒ§¥ãÒÆ∞ÑÚõÉæÛ£≠¨"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateBookRequestBody"},"example":{"name":"Guillaume","price":0.18040562637737106}}}},"responses":{"201":{"description":"Created response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateBookResponseBody"},"example":{"book":{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":69},"success":true}}}},"401":{"description":"Unauthorized response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Quis quaerat tempore magni."}}},"500":{"description":"Internal Server Error response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnknownError"},"example":{"err":"sql no rows affected","error_code":"TX_UPDATE_ITEM","success":false}}}}},"security":[{"OAuth2_header_Authorization":["api:read"],"jwt_header_jwtToken":["api:read","api:write"]}]}},"/web/book/remove/{id}":{"delete":{"tags":["book"],"summary":"deleteBook book","description":"Delete one item by ID","operationId":"book#deleteBook","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","example":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","format":"uuid"},"example":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25"},{"name":"jwtToken","in":"header","description":"Jwt token","allowEmptyValue":true,"required":true,"schema":{"type":"string","description":"Jwt token","example":"Bearer Ò∞£ßÚª†Ω©Äî","pattern":"^Bearer [^ ]+$"},"example":"Bearer ÛÖÜèÙá≤ÉÚåπ§"}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteBookResponseBody"},"example":{"success":true}}}},"401":{"description":"Unauthorized response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Velit voluptas quas qui."}}},"500":{"description":"Internal Server Error response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnknownError"},"example":{"err":"sql no rows affected","error_code":"TX_UPDATE_ITEM","success":false}}}}},"security":[{"OAuth2_header_Authorization":["api:read"],"jwt_header_jwtToken":["api:read","api:write"]}]}},"/web/book/{id}":{"get":{"tags":["book"],"summary":"getBook book","description":"Get one item","operationId":"book#getBook","parameters":[{"name":"id","in":"path","description":"Unique ID of the book","required":true,"schema":{"type":"string","description":"Unique ID of the book","example":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","format":"uuid"},"example":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25"},{"name":"jwtToken","in":"header","description":"Jwt token","allowEmptyValue":true,"required":true,"schema":{"type":"string","description":"Jwt token","example":"Bearer ÛüÉáÒê•©Òõ¨èÒÄ¥Ø","pattern":"^Bearer [^ ]+$"},"example":"Bearer Úî¨ÆÚ¨•âÒå∑¶®ù§Ú∑µñ"}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetBookResponseBody"},"example":{"id":"Quisquam quod illo.","name":"Aut maiores a aut nesciunt.","price":0.49980991575007605,"success":true}}}},"401":{"description":"Unauthorized response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Eaque fugiat ut minus doloremque illum iste."}}},"500":{"description":"Internal Server Error response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnknownError"},"example":{"err":"sql no rows affected","error_code":"TX_UPDATE_ITEM","success":false}}}}},"security":[{"OAuth2_header_Authorization":["api:read"],"jwt_header_jwtToken":["api:read","api:write"]}]},"put":{"tags":["book"],"summary":"updateBook book","description":"Update one item","operationId":"book#updateBook","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","example":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","format":"uuid"},"example":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25"},{"name":"jwtToken","in":"header","description":"Jwt token","allowEmptyValue":true,"required":true,"schema":{"type":"string","description":"Jwt token","example":"Bearer Û™èÑÛåî®™Ü´Ò≥∑∫Û¥£ÄÚëÜØ","pattern":"^Bearer [^ ]+$"},"example":"Bearer ∑ÅüùåïÙåôçÛñìàÚÄñàÒ§âã"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateBookRequestBody"},"example":{"name":"Guillaume","price":69}}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateBookResponseBody"},"example":{"book":{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":69},"success":true}}}},"401":{"description":"Unauthorized response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Libero non nisi aut eum."}}},"500":{"description":"Internal Server Error response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnknownError"},"example":{"err":"sql no rows affected","error_code":"TX_UPDATE_ITEM","success":false}}}}},"security":[{"OAuth2_header_Authorization":["api:read"],"jwt_header_jwtToken":["api:read","api:write"]}]}},"/web/books":{"get":{"tags":["book"],"summary":"getAllBooks book","description":"Get All items","operationId":"book#getAllBooks","responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetAllBooksResponseBody"},"example":{"books":[{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":69},{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":69},{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":69}],"success":true}}}},"401":{"description":"Unauthorized response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Consectetur incidunt corrupti ut."}}},"500":{"description":"Internal Server Error response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnknownError"},"example":{"err":"sql no rows affected","error_code":"TX_UPDATE_ITEM","success":false}}}}}}}},"components":{"schemas":{"BookResponse":{"type":"object","properties":{"id":{"type":"string","example":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","format":"uuid"},"name":{"type":"string","example":"Guillaume"},"price":{"type":"number","example":69,"format":"double"}},"example":{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":69},"required":["id","name","price"]},"DeleteBookResponseBody":{"type":"object","properties":{"success":{"type":"boolean","example":false}},"example":{"success":true},"required":["success"]},"EmailAlreadyExist":{"type":"object","properties":{"message":{"type":"string","example":"Dolorum dolorem enim et."},"success":{"type":"boolean","default":false,"example":false}},"description":"When email already exist","example":{"message":"Est incidunt impedit voluptatum earum aperiam.","success":true},"required":["message","success"]},"GetAllBooksResponseBody":{"type":"object","properties":{"books":{"type":"array","items":{"$ref":"#/components/schemas/BookResponse"},"description":"Result is an array of object","example":[{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":69},{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":69}]},"success":{"type":"boolean","example":true}},"example":{"books":[{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":69},{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":69}],"success":true},"required":["books","success"]},"GetBookResponseBody":{"type":"object","properties":{"id":{"type":"string","example":"Repudiandae autem veniam inventore perspiciatis magnam."},"name":{"type":"string","example":"In et voluptatem perspiciatis maiores amet soluta."},"price":{"type":"number","example":0.5876342341524154,"format":"double"},"success":{"type":"boolean","example":true}},"example":{"id":"Nobis voluptatem.","name":"Dolores beatae.","price":0.4191345453635427,"success":false},"required":["id","name","price","success"]},"InvalidScopes":{"type":"string","description":"Token scopes are invalid","example":"Rerum provident consequuntur labore adipisci."},"OAuthRequestBody":{"type":"object","properties":{"client_id":{"type":"string","example":"Quisquam modi."},"client_secret":{"type":"string","example":"Blanditiis officia enim magni."},"grant_type":{"type":"string","example":"Esse eos et reiciendis enim."}},"example":{"client_id":"Velit ea voluptatem.","client_secret":"In corporis perferendis.","grant_type":"Non ut."},"required":["client_id","client_secret","grant_type"]},"OAuthResponse":{"type":"object","properties":{"access_token":{"type":"string","example":"Dolorem a cumque."},"expires_in":{"type":"integer","example":785477986663672378,"format":"int64"},"success":{"type":"boolean","example":true},"token_type":{"type":"string","example":"Est id."}},"example":{"access_token":"Iusto quo.","expires_in":2580221834486187725,"success":false,"token_type":"Veritatis unde rerum consequatur."},"required":["access_token","token_type","expires_in","success"]},"RefreshRequestBody":{"type":"object","properties":{"refresh_token":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"}},"example":{"refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"},"required":["refresh_token"]},"Sign":{"type":"object","properties":{"access_token":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"},"refresh_token":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"},"success":{"type":"boolean","example":false}},"example":{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ","refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ","success":false},"required":["access_token","refresh_token","success"]},"SigninRequestBody":{"type":"object","properties":{"email":{"type":"string","example":"guillaume@epitech.eu","format":"email"},"password":{"type":"string","example":"ff3","minLength":8}},"example":{"email":"guillaume@epitech.eu","password":"t70"},"required":["password","email"]},"SignupRequestBody":{"type":"object","properties":{"email":{"type":"string","example":"guillaume@epitech.eu","format":"email"},"firstname":{"type":"string","example":"Guillaume","minLength":3,"maxLength":15},"lastname":{"type":"string","example":"Morin","minLength":3},"password":{"type":"string","example":"o43","minLength":8}},"description":"Use client ID and client secret to oAuth","example":{"email":"guillaume@epitech.eu","firstname":"Guillaume","lastname":"Morin","password":"f8p"},"required":["firstname","lastname","password","email"]},"UnknownError":{"type":"object","properties":{"err":{"type":"string","example":"sql no rows affected"},"error_code":{"type":"string","example":"TX_UPDATE_ITEM"},"success":{"type":"boolean","default":false,"example":true}},"description":"Error not identified (500)","example":{"err":"sql no rows affected","error_code":"TX_UPDATE_ITEM","success":true},"required":["err","success","error_code"]},"UpdateBookRequestBody":{"type":"object","properties":{"name":{"type":"string","example":"Guillaume","minLength":3,"maxLength":10},"price":{"type":"number","example":69,"minimum":0.1}},"example":{"name":"Guillaume","price":69},"required":["name","price"]},"UpdateBookResponseBody":{"type":"object","properties":{"book":{"$ref":"#/components/schemas/BookResponse"},"success":{"type":"boolean","example":true}},"example":{"book":{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":69},"success":true},"required":["book","success"]}},"securitySchemes":{"OAuth2_header_Authorization":{"type":"oauth2","description":"Use OAuth2 to authenticate","flows":{"clientCredentials":{"tokenUrl":"/authorization","refreshUrl":"/refresh","scopes":{"api:read":"Provides read access"}}}},"jwt_header_jwtToken":{"type":"http","description":"Secures endpoint by requiring a valid JWT token retrieved via the signin endpoint. Supports scopes \"api:read\" and \"api:write\".","scheme":"bearer"}}},"tags":[{"name":"openapi"},{"name":"jwtToken","description":"Use Token to authenticate. Signin and Signup"},{"name":"book","description":"The principe of CRUD API with GET, PUT, POST, DELETE with Table Book"},{"name":"oAuth","description":"Oauth to authentificate"}]}