{"openapi":"3.0.3","info":{"title":"Starter Pack","description":"Best API REST building with GoaDesign","contact":{"name":"Thomas LEMAITRE","url":"https://www.squirrel.fr/","email":"support@squirrel.fr"},"license":{"name":"SQUIRREL X GM","url":"https://www.squirrel.fr/"},"version":"1.0"},"servers":[{"url":"http://localhost:8088"}],"paths":{"/authorization":{"post":{"tags":["oAuth"],"summary":"oAuth oAuth","description":"oAuth","operationId":"oAuth#oAuth","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OAuthRequestBody"},"example":{"client_id":"Consequatur vero deserunt.","client_secret":"Molestias illum rem soluta.","grant_type":"Qui nam nam."}}}},"responses":{"201":{"description":"Created response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OAuthResponse"},"example":{"access_token":"Corrupti excepturi.","expires_in":6947423841875549848,"success":false,"token_type":"Occaecati laboriosam veniam."}}}},"400":{"description":"Bad Request response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OAuthResponse"},"example":{"access_token":"Nemo aperiam nulla mollitia.","expires_in":659401118509371439,"success":false,"token_type":"Itaque non architecto corporis qui facilis beatae."}}}},"401":{"description":"Unauthorized response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Eum laboriosam ipsum."}}},"403":{"description":"Forbidden response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Fugit vitae aspernatur repudiandae sit."}}},"500":{"description":"Internal Server Error response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnknownError"},"example":{"err":"sql no rows affected","error_code":"TX_UPDATE_ITEM","success":false}}}}}}},"/openapi.json":{"get":{"tags":["openapi"],"summary":"Download openapi3.json","description":"Postman generated by Goa","operationId":"openapi#/openapi.json","responses":{"200":{"description":"File downloaded"}},"externalDocs":{"description":"cd Public \u0026\u0026 live-server to see the Documentation of the API","url":"http://127.0.0.1:8080/"}}},"/resfresh":{"post":{"tags":["jwtToken"],"summary":"refresh jwtToken","description":"Refresh Token","operationId":"jwtToken#refresh","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshRequestBody"},"example":{"refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"}}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Sign"},"example":{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ","refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ","success":true}}}},"400":{"description":"Bad Request response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailAlreadyExist"},"example":{"message":"Nihil dolore aut aut sint.","success":true}}}},"401":{"description":"Unauthorized response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Eum qui pariatur eveniet."}}},"403":{"description":"Forbidden response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Qui voluptas."}}},"500":{"description":"Internal Server Error response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnknownError"},"example":{"err":"sql no rows affected","error_code":"TX_UPDATE_ITEM","success":true}}}}}}},"/signin":{"post":{"tags":["jwtToken"],"summary":"signin jwtToken","description":"signin","operationId":"jwtToken#signin","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SigninRequestBody"},"example":{"email":"guillaume@epitech.eu","password":"1cs"}}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Sign"},"example":{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ","refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ","success":false}}}},"400":{"description":"Bad Request response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailAlreadyExist"},"example":{"message":"Mollitia nam animi.","success":true}}}},"401":{"description":"Unauthorized response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Veniam culpa et vel."}}},"403":{"description":"Forbidden response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Rerum quasi."}}},"500":{"description":"Internal Server Error response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnknownError"},"example":{"err":"sql no rows affected","error_code":"TX_UPDATE_ITEM","success":true}}}}}}},"/signup":{"post":{"tags":["jwtToken"],"summary":"signup jwtToken","description":"signup to generate jwt token","operationId":"jwtToken#signup","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignupRequestBody"},"example":{"email":"guillaume@epitech.eu","firstname":"Guillaume","lastname":"Morin","password":"o04"}}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Sign"},"example":{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ","refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ","success":false}}}},"400":{"description":"Bad Request response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailAlreadyExist"},"example":{"message":"Harum aliquid et.","success":false}}}},"401":{"description":"Unauthorized response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Autem et dolores quisquam beatae saepe hic."}}},"403":{"description":"Forbidden response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Sit qui ut explicabo neque aspernatur ullam."}}},"500":{"description":"Internal Server Error response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnknownError"},"example":{"err":"sql no rows affected","error_code":"TX_UPDATE_ITEM","success":true}}}}}}},"/web/book/add":{"post":{"tags":["book"],"summary":"createBook book","description":"Create one item","operationId":"book#createBook","parameters":[{"name":"jwtToken","in":"header","description":"Jwt token","allowEmptyValue":true,"required":true,"schema":{"type":"string","description":"Jwt token","example":"Bearer ¨æ¨Û®©∫ÛëÖçÙÄîì´Ω∏","pattern":"^Bearer [^ ]+$"},"example":"Bearer ûøßÒ§¥ãÒÆ∞ÑÚõÉæÛ£≠¨"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateBookRequestBody"},"example":{"name":"Guillaume","price":0.94558772578298}}}},"responses":{"201":{"description":"Created response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBookResponseBody"},"example":{"book":{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":69},"success":true}}}},"401":{"description":"Unauthorized response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Numquam atque aut aut vero et."}}},"500":{"description":"Internal Server Error response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnknownError"},"example":{"err":"sql no rows affected","error_code":"TX_UPDATE_ITEM","success":true}}}}},"security":[{"OAuth2_header_Authorization":["api:read"],"jwt_header_jwtToken":["api:read","api:write"]}]}},"/web/book/remove/{id}":{"delete":{"tags":["book"],"summary":"deleteBook book","description":"Delete one item by ID","operationId":"book#deleteBook","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","example":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","format":"uuid"},"example":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25"},{"name":"jwtToken","in":"header","description":"Jwt token","allowEmptyValue":true,"required":true,"schema":{"type":"string","description":"Jwt token","example":"Bearer Ò∞£ßÚª†Ω©Äî","pattern":"^Bearer [^ ]+$"},"example":"Bearer ÛÖÜèÙá≤ÉÚåπ§"}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteBookResponseBody"},"example":{"success":false}}}},"401":{"description":"Unauthorized response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Quia saepe impedit."}}},"500":{"description":"Internal Server Error response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnknownError"},"example":{"err":"sql no rows affected","error_code":"TX_UPDATE_ITEM","success":true}}}}},"security":[{"OAuth2_header_Authorization":["api:read"],"jwt_header_jwtToken":["api:read","api:write"]}]}},"/web/book/{id}":{"get":{"tags":["book"],"summary":"getBook book","description":"Get one item","operationId":"book#getBook","parameters":[{"name":"id","in":"path","description":"Unique ID of the book","required":true,"schema":{"type":"string","description":"Unique ID of the book","example":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","format":"uuid"},"example":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25"},{"name":"jwtToken","in":"header","description":"Jwt token","allowEmptyValue":true,"required":true,"schema":{"type":"string","description":"Jwt token","example":"Bearer ÛüÉáÒê•©Òõ¨èÒÄ¥Ø","pattern":"^Bearer [^ ]+$"},"example":"Bearer Úî¨ÆÚ¨•âÒå∑¶®ù§Ú∑µñ"}],"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetBookResponseBody"},"example":{"id":"Est ut beatae.","name":"Facilis magnam dolore dicta.","price":0.6791549577548166,"success":false}}}},"401":{"description":"Unauthorized response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Deleniti facilis sed voluptas enim."}}},"500":{"description":"Internal Server Error response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnknownError"},"example":{"err":"sql no rows affected","error_code":"TX_UPDATE_ITEM","success":true}}}}},"security":[{"OAuth2_header_Authorization":["api:read"],"jwt_header_jwtToken":["api:read","api:write"]}]},"put":{"tags":["book"],"summary":"updateBook book","description":"Update one item","operationId":"book#updateBook","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string","example":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","format":"uuid"},"example":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25"},{"name":"jwtToken","in":"header","description":"Jwt token","allowEmptyValue":true,"required":true,"schema":{"type":"string","description":"Jwt token","example":"Bearer Û™èÑÛåî®™Ü´Ò≥∑∫Û¥£ÄÚëÜØ","pattern":"^Bearer [^ ]+$"},"example":"Bearer ∑ÅüùåïÙåôçÛñìàÚÄñàÒ§âã"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateBookRequestBody"},"example":{"name":"Guillaume","price":69}}}},"responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetBookResponseBody"},"example":{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"P√®re riche p√®re pauvre","price":14.5,"success":true}}}},"401":{"description":"Unauthorized response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Odit quasi."}}},"500":{"description":"Internal Server Error response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnknownError"},"example":{"err":"sql no rows affected","error_code":"TX_UPDATE_ITEM","success":false}}}}},"security":[{"OAuth2_header_Authorization":["api:read"],"jwt_header_jwtToken":["api:read","api:write"]}]}},"/web/books":{"get":{"tags":["book"],"summary":"getAllBooks book","description":"Get All items","operationId":"book#getAllBooks","responses":{"200":{"description":"OK response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetAllBooksResponseBody"},"example":{"books":[{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":69},{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":69},{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":69}],"success":false}}}},"401":{"description":"Unauthorized response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvalidScopes"},"example":"Numquam neque."}}},"500":{"description":"Internal Server Error response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnknownError"},"example":{"err":"sql no rows affected","error_code":"TX_UPDATE_ITEM","success":false}}}}}}}},"components":{"schemas":{"BookResponse":{"type":"object","properties":{"id":{"type":"string","example":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","format":"uuid"},"name":{"type":"string","example":"Guillaume"},"price":{"type":"number","example":69,"format":"double"}},"example":{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":69},"required":["id","name","price"]},"CreateBookResponseBody":{"type":"object","properties":{"book":{"$ref":"#/components/schemas/BookResponse"},"success":{"type":"boolean","example":true}},"example":{"book":{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":69},"success":true},"required":["book","success"]},"DeleteBookResponseBody":{"type":"object","properties":{"success":{"type":"boolean","example":false}},"example":{"success":true},"required":["success"]},"EmailAlreadyExist":{"type":"object","properties":{"message":{"type":"string","example":"Facere eos dolorem."},"success":{"type":"boolean","default":false,"example":false}},"description":"When email already exist","example":{"message":"Voluptatem odit rerum.","success":true},"required":["message","success"]},"GetAllBooksResponseBody":{"type":"object","properties":{"books":{"type":"array","items":{"$ref":"#/components/schemas/BookResponse"},"description":"Result is an array of object","example":[{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":69},{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":69}]},"success":{"type":"boolean","example":true}},"example":{"books":[{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":69},{"id":"5dfb0bf7-597a-4250-b7ad-63a43ff59c25","name":"Guillaume","price":69}],"success":true},"required":["books","success"]},"GetBookResponseBody":{"type":"object","properties":{"id":{"type":"string","example":"Consequatur minima perferendis ipsum est provident autem."},"name":{"type":"string","example":"Labore porro qui."},"price":{"type":"number","example":0.8457578649598825,"format":"double"},"success":{"type":"boolean","example":false}},"example":{"id":"Ad modi praesentium repudiandae eos.","name":"Dicta laudantium nihil et quia quia beatae.","price":0.07810457452370308,"success":true},"required":["id","name","price","success"]},"InvalidScopes":{"type":"string","description":"Token scopes are invalid","example":"Quas dolorem blanditiis quod dolorum eum."},"OAuthRequestBody":{"type":"object","properties":{"client_id":{"type":"string","example":"Sint quidem unde incidunt."},"client_secret":{"type":"string","example":"Sequi ex adipisci repudiandae eum corporis natus."},"grant_type":{"type":"string","example":"Molestiae fugit eos a eos."}},"example":{"client_id":"Voluptatibus qui.","client_secret":"Molestias quam illo consequatur quas atque blanditiis.","grant_type":"Error excepturi tenetur aut."},"required":["client_id","client_secret","grant_type"]},"OAuthResponse":{"type":"object","properties":{"access_token":{"type":"string","example":"Possimus magnam quidem ut praesentium."},"expires_in":{"type":"integer","example":3927026352259071017,"format":"int64"},"success":{"type":"boolean","example":true},"token_type":{"type":"string","example":"Nam eos in eius."}},"example":{"access_token":"Esse porro fugiat.","expires_in":7818018367268184027,"success":true,"token_type":"Illum hic sit omnis impedit est nihil."},"required":["access_token","token_type","expires_in","success"]},"RefreshRequestBody":{"type":"object","properties":{"refresh_token":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"}},"example":{"refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"},"required":["refresh_token"]},"Sign":{"type":"object","properties":{"access_token":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"},"refresh_token":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"},"success":{"type":"boolean","example":true}},"example":{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ","refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ","success":true},"required":["access_token","refresh_token","success"]},"SigninRequestBody":{"type":"object","properties":{"email":{"type":"string","example":"guillaume@epitech.eu","format":"email"},"password":{"type":"string","example":"fok","minLength":8}},"example":{"email":"guillaume@epitech.eu","password":"k5b"},"required":["password","email"]},"SignupRequestBody":{"type":"object","properties":{"email":{"type":"string","example":"guillaume@epitech.eu","format":"email"},"firstname":{"type":"string","example":"Guillaume","minLength":3,"maxLength":15},"lastname":{"type":"string","example":"Morin","minLength":3},"password":{"type":"string","example":"7f1","minLength":8}},"description":"Use client ID and client secret to oAuth","example":{"email":"guillaume@epitech.eu","firstname":"Guillaume","lastname":"Morin","password":"71f"},"required":["firstname","lastname","password","email"]},"UnknownError":{"type":"object","properties":{"err":{"type":"string","example":"sql no rows affected"},"error_code":{"type":"string","example":"TX_UPDATE_ITEM"},"success":{"type":"boolean","default":false,"example":false}},"description":"Error not identified (500)","example":{"err":"sql no rows affected","error_code":"TX_UPDATE_ITEM","success":true},"required":["err","success","error_code"]},"UpdateBookRequestBody":{"type":"object","properties":{"name":{"type":"string","example":"Guillaume","minLength":3,"maxLength":10},"price":{"type":"number","example":69,"minimum":0.1}},"example":{"name":"Guillaume","price":69},"required":["name","price"]}},"securitySchemes":{"OAuth2_header_Authorization":{"type":"oauth2","description":"Use OAuth2 to authenticate","flows":{"clientCredentials":{"tokenUrl":"/authorization","refreshUrl":"/refresh","scopes":{"api:read":"Provides read access"}}}},"jwt_header_jwtToken":{"type":"http","description":"Secures endpoint by requiring a valid JWT token retrieved via the signin endpoint. Supports scopes \"api:read\" and \"api:write\".","scheme":"bearer"}}},"tags":[{"name":"openapi"},{"name":"jwtToken","description":"Use Token to authenticate. Signin and Signup"},{"name":"book","description":"The principe of CRUD API with GET, PUT, POST, DELETE with Table Book"},{"name":"oAuth","description":"Oauth to authentificate"}]}