// Code generated by goa v3.5.2, DO NOT EDIT.
//
// files HTTP client CLI support package
//
// Command:
// $ goa gen api_crud/design

package client

import (
	files "api_crud/gen/files"
	"encoding/json"
	"fmt"

	goa "goa.design/goa/v3/pkg"
)

// BuildImportFilePayload builds the payload for the files importFile endpoint
// from CLI flags.
func BuildImportFilePayload(filesImportFileBody string, filesImportFileOauth string, filesImportFileJWTToken string) (*files.ImportFilePayload, error) {
	var err error
	var body ImportFileRequestBody
	{
		err = json.Unmarshal([]byte(filesImportFileBody), &body)
		if err != nil {
			return nil, fmt.Errorf("invalid JSON for body, \nerror: %s, \nexample of valid JSON:\n%s", err, "'{\n      \"content\": \"TWluaW1hIGFsaWFzIGN1cGlkaXRhdGUu\",\n      \"filename\": \"foo.jpg\",\n      \"format\": \"image/jpeg\",\n      \"mime\": \"In debitis id voluptate eaque fugiat suscipit.\",\n      \"size\": 3404113326015607736,\n      \"url\": \"A rerum quod quaerat et necessitatibus.\"\n   }'")
		}
		if body.Content == nil {
			err = goa.MergeErrors(err, goa.MissingFieldError("content", "body"))
		}
		if err != nil {
			return nil, err
		}
	}
	var oauth *string
	{
		if filesImportFileOauth != "" {
			oauth = &filesImportFileOauth
		}
	}
	var jwtToken *string
	{
		if filesImportFileJWTToken != "" {
			jwtToken = &filesImportFileJWTToken
		}
	}
	v := &files.ImportFilePayload{
		Filename: body.Filename,
		URL:      body.URL,
		Mime:     body.Mime,
		Content:  body.Content,
		Size:     body.Size,
		Format:   body.Format,
	}
	v.Oauth = oauth
	v.JWTToken = jwtToken

	return v, nil
}

// BuildDeleteFilePayload builds the payload for the files deleteFile endpoint
// from CLI flags.
func BuildDeleteFilePayload(filesDeleteFileBody string, filesDeleteFileOauth string, filesDeleteFileJWTToken string) (*files.DeleteFilePayload, error) {
	var err error
	var body DeleteFileRequestBody
	{
		err = json.Unmarshal([]byte(filesDeleteFileBody), &body)
		if err != nil {
			return nil, fmt.Errorf("invalid JSON for body, \nerror: %s, \nexample of valid JSON:\n%s", err, "'{\n      \"url\": \"/public/uploads/2021/12/2ca51d10-b660-4b2c-b27f-f7a119642885.png\"\n   }'")
		}
	}
	var oauth *string
	{
		if filesDeleteFileOauth != "" {
			oauth = &filesDeleteFileOauth
		}
	}
	var jwtToken *string
	{
		if filesDeleteFileJWTToken != "" {
			jwtToken = &filesDeleteFileJWTToken
		}
	}
	v := &files.DeleteFilePayload{
		URL: body.URL,
	}
	v.Oauth = oauth
	v.JWTToken = jwtToken

	return v, nil
}
